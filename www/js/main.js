"use strict";var mycanvas=document.getElementById("canvas"),ctx=mycanvas.getContext("2d"),snakeSize=10,w=350,h=350,score=0,snake=void 0,food=void 0,direction=void 0,gameloop=void 0,tail=void 0,btn=document.getElementById("btn"),drawModule=function(){var e=function(e,t){ctx.fillStyle="#4ef62c",ctx.fillRect(e*snakeSize,t*snakeSize,snakeSize,snakeSize)},t=function(e,t){ctx.fillStyle="#000000",ctx.fillRect(e*snakeSize,t*snakeSize,snakeSize,snakeSize),ctx.fillStyle="#ff7079",ctx.fillRect(e*snakeSize+1,t*snakeSize+1,snakeSize-2,snakeSize-2)},n=function(){var e="Score: "+score;ctx.fillStyle="blue",ctx.fillText(e,145,h-5)},o=function(){var e=4;snake=[];for(var t=e-1;t>=0;t--)snake.push({x:t,y:0})},i=function(){ctx.fillStyle="#ffffff",ctx.fillRect(0,0,w,h),ctx.strokeStyle="black",ctx.strokeRect(0,0,w,h),btn.setAttribute("disabled",!0);var o=snake[0].x,i=snake[0].y;switch(direction){case"right":o++;break;case"left":o--;break;case"up":i--;break;case"down":i++}if(o===-1||o===w/snakeSize||i===-1||i===h/snakeSize||r(o,i,snake))return btn.removeAttribute("disabled",!0),ctx.clearRect(0,0,w,h),void(gameloop=clearInterval(gameloop));o===food.x&&i===food.y?(tail={x:o,y:i},score++,a()):(tail=snake.pop(),tail.x=o,tail.y=i),snake.unshift(tail);for(var c=0;c<snake.length;c++)e(snake[c].x,snake[c].y);t(food.x,food.y),n()},a=function(){food={x:Math.floor(30*Math.random()+1),y:Math.floor(30*Math.random()+1)};for(var e=0;e>snake.length;e++){var t=snake[e].x,n=snake[e].y;(food.x===t&&food.y===n||food.y===n&&food.x===t)&&(food.x=Math.floor(30*Math.random()+1),food.y=Math.floor(30*Math.random()+1))}},r=function(e,t,n){for(var o=0;o<n.length;o++)if(n[o].x===e&&n[o].y===t)return!0;return!1},c=function(){direction="down",o(),a(),gameloop=setInterval(i,80)};return{init:c}}();!function(e,t,n){btn.addEventListener("click",function(){n.init()}),t.onkeydown=function(e){switch(e.code){case"ArrowLeft":"right"!==direction&&(direction="left");break;case"ArrowRight":"left"!==direction&&(direction="right");break;case"ArrowUp":"down"!==direction&&(direction="up");break;case"ArrowDown":"up"!==direction&&(direction="down")}}}(window,document,drawModule);